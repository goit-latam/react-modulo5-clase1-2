"use strict";(self.webpackChunkclass_components_state_example=self.webpackChunkclass_components_state_example||[]).push([[792],{792:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(433),s=n(861),c=n(439),a=n(757),o=n.n(a),i=n(791),u=n(87),l=n(703);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=n(671),m=n(144),g=n(136),b=n(104),v=n(184),j=function(e){(0,g.Z)(n,e);var t=(0,b.Z)(n);function n(){var e;(0,d.Z)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={search:""},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value,c=n.checked,a="checkbox"===n.type?c:s;e.setState(p({},r,a))},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.onSubmit)(f({},e.state)),e.reset()},e}return(0,m.Z)(n,[{key:"reset",value:function(){this.setState({search:""})}},{key:"render",value:function(){var e=this.state.search;return(0,v.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,v.jsx)("input",{name:"search",value:e,onChange:this.handleChange,placeholder:"Search post",required:!0}),(0,v.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(i.Component),x=j,_=n(387),y="posts-search_heading__f1nWL",O="posts-search_error__jnmRK",w=function(){var e=(0,i.useState)([]),t=(0,c.Z)(e,2),n=t[0],a=t[1],p=(0,i.useState)("idle"),h=(0,c.Z)(p,2),f=h[0],d=h[1],m=(0,i.useState)(null),g=(0,c.Z)(m,2),b=g[0],j=g[1],w=(0,u.lr)(),Z=(0,c.Z)(w,2),S=Z[0],k=Z[1],P=S.get("search"),C=Number(S.get("page"));(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)(o().mark((function e(){var t,n,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("pending"),e.next=4,(0,_.cl)(P,C);case 4:t=e.sent,n=t.data,a((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),d("success"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),s=e.t0.response,c=s.data.message||"Cannot fetch posts",j(c),d("error");case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();P&&e()}),[P,C]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{className:y,children:"Posts"}),(0,v.jsx)(x,{onSubmit:function(e){var t=e.search;k({search:t,page:1}),a([])}}),"pending"===f&&(0,v.jsx)("p",{children:"....Loading"}),b&&(0,v.jsx)("p",{className:O,children:b}),(0,v.jsx)(l.Z,{items:n}),"success"===f&&!n.length&&(0,v.jsx)("p",{children:"Nothing found"}),Boolean(n.length)&&(0,v.jsx)("button",{onClick:function(){k({search:P,page:C+1})},type:"button",children:"Load more"})]})},Z=function(){return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("h1",{className:"page-title",children:"Posts page"}),(0,v.jsx)(w,{})]})}},387:function(e,t,n){n.d(t,{Jq:function(){return s},cl:function(){return c},u_:function(){return a},w8:function(){return o}});var r=n(243).Z.create({baseURL:"https://jsonplaceholder.typicode.com/posts"}),s=function(){return r.get("/")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.get("/",{params:{q:e,_page:t,_limit:4}})},a=function(e){return r.get("/".concat(e))},o=function(e){return r.get("/".concat(e,"/comments"))}},703:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(689),s=n(87),c="post-list_list__Ic3M3",a="post-list_item__ECXwH",o="post-list_itemTitle__2wnZn",i=n(184),u=function(e){var t=e.items,n=void 0===t?[]:t,u=(0,r.TH)(),l=n.map((function(e){var t=e.id,n=e.title,r=e.body;return(0,i.jsxs)("li",{className:a,children:[(0,i.jsx)(s.rU,{to:"/posts/".concat(t),state:{from:u},className:o,children:n}),(0,i.jsx)("p",{children:r})]},t)}));return(0,i.jsx)("ul",{className:c,children:l})}}}]);
//# sourceMappingURL=792.1d5e6ebf.chunk.js.map