{"version":3,"file":"static/js/792.1d5e6ebf.chunk.js","mappings":"4QAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,CACT,CCXA,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,UACtD,KAAKM,EAAKM,KAAKC,MAAMP,EAAME,EAC7B,CAEA,OAAOF,CACT,CAEe,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,CAAC,EACpDA,EAAI,EAAIb,EAAQL,OAAOqB,IAAS,GAAIC,SAAQ,SAAUxB,GACpD,EAAemB,EAAQnB,EAAKuB,EAAOvB,GACrC,IAAKE,OAAOuB,0BAA4BvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAAWhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GAC5JE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,GAC7E,GACF,CAEA,OAAOmB,CACT,C,iDCxBMQ,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAkBD,OAlBCA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFC,MAAQ,CACJC,OAAQ,IADJ,EAIRC,aAAe,YAAiB,IAAdX,EAAa,EAAbA,OACNY,EAA+BZ,EAA/BY,KAAM9B,EAAyBkB,EAAzBlB,MAAO+B,EAAkBb,EAAlBa,QACfC,EAAoB,aADad,EAATe,KACSF,EAAU/B,EACjD,EAAKkC,SAAL,KACKJ,EAAOE,GAEf,IAEDG,aAAe,SAACC,GACZA,EAAEC,kBAEFC,EADmB,EAAKC,MAAjBD,UACE,KAAI,EAAKX,QAClB,EAAKa,OACR,IAeA,OAfA,6BAED,WACIC,KAAKP,SAAS,CAAEN,OAAQ,IAC3B,uBAED,WACI,IAAOA,EAAUa,KAAKd,MAAfC,OAEP,OACI,kBAAMU,SAAUG,KAAKN,aAArB,WACI,kBAAOL,KAAK,SAAS9B,MAAO4B,EAAQc,SAAUD,KAAKZ,aAAcc,YAAY,cAAcC,UAAQ,KACnG,mBAAQX,KAAK,SAAb,sBAGX,OAjCCP,CAAwBmB,EAAAA,WAoC9B,I,SCrCA,EAA0B,8BAA1B,EAAgL,4BCoEhL,EA1DoB,WAChB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEM3B,EAAS0B,EAAaE,IAAI,UAC1BC,EAAOC,OAAOJ,EAAaE,IAAI,UAErCG,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,0GAEXV,EAAU,WAFC,UAGYW,EAAAA,EAAAA,IAAYjC,EAAQ6B,GAHhC,gBAGHK,EAHG,EAGHA,KACRd,GAAS,SAAAe,GAAS,wBAAQA,IAAR,OAAsBD,GAAtB,IAClBZ,EAAU,WALC,kDAONc,EAPM,KAONA,SACCC,EAAeD,EAASF,KAAKI,SAAW,qBAC9Cd,EAASa,GACTf,EAAU,SAVC,0DAAH,qDAcbtB,GACCgC,GAEP,GAAE,CAAChC,EAAQ6B,IAiBZ,OACI,iCACI,eAAIU,UAAWC,EAAf,oBACA,SAAC,EAAD,CAAiB9B,SAlBJ,SAAC,GAAgB,IAAdV,EAAa,EAAbA,OACpB2B,EAAgB,CACZ3B,OAAAA,EACA6B,KAAM,IAEVT,EAAS,GACZ,IAamB,YAAXC,IAAwB,uCACxBE,IAAS,cAAGgB,UAAWC,EAAd,SAA6BjB,KACvC,SAACkB,EAAA,EAAD,CAAUtB,MAAOA,IACL,YAAXE,IAAyBF,EAAM1B,SAAU,yCACzCiD,QAAQvB,EAAM1B,UAAW,mBAAQkD,QAfzB,WACbhB,EAAgB,CACZ3B,OAAAA,EACA6B,KAAMA,EAAO,GAEpB,EAU4DxB,KAAK,SAAhC,yBAGrC,ECtDD,EATkB,WAChB,OACE,iBAAKkC,UAAU,YAAf,WACE,eAAIA,UAAU,aAAd,yBACA,SAAC,EAAD,MAGL,C,mICTKK,E,OAAgBC,EAAAA,OAAa,CAC/BC,QAAS,+CAGAC,EAAW,WACpB,OAAOH,EAAchB,IAAI,IAC5B,EAEYK,EAAc,SAACe,GAAiB,IAAdC,EAAa,uDAAL,EACnC,OAAOL,EAAchB,IAAI,IAAK,CAC1BsB,OAAQ,CACJF,EAAAA,EACAC,MAAAA,EACAE,OAAQ,IAGnB,EAEYC,EAAc,SAACC,GACxB,OAAOT,EAAchB,IAAd,WAAsByB,GAChC,EAEYC,EAAkB,SAACD,GAC5B,OAAOT,EAAchB,IAAd,WAAsByB,EAAtB,aACV,C,2ECzBD,EAAuB,wBAAvB,EAAsD,wBAAtD,EAA0F,6B,SCoB1F,EAjBiB,SAAC,GAAoB,IAAD,IAAjBlC,MAAAA,OAAiB,MAAT,GAAS,EAC3BoC,GAAWC,EAAAA,EAAAA,MAEXC,EAAWtC,EAAMuC,KAAI,gBAAGL,EAAH,EAAGA,GAAIM,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACvB,gBAAarB,UAAWC,EAAxB,WACI,SAAC,KAAD,CAAMqB,GAAE,iBAAYR,GAAMtD,MAAO,CAAC+D,KAAMP,GAAWhB,UAAWC,EAA9D,SAAiFmB,KACjF,uBAAIC,MAFCP,EADc,IAO3B,OACI,eAAId,UAAWC,EAAf,SACKiB,GAGZ,C","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","modules/PostsSearch/PostsSearchForm/PostsSearchForm.jsx","webpack://class-components-state-example/./src/modules/PostsSearch/posts-search.module.scss?10ce","modules/PostsSearch/PostsSearch.jsx","pages/PostsPage/PostsPage.jsx","shared/api/posts.js","webpack://class-components-state-example/./src/shared/components/PostList/post-list.module.scss?60f6","shared/components/PostList/PostList.jsx"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import { Component } from \"react\";\n\nclass PostsSearchForm extends Component {\n    state = {\n        search: \"\"\n    }\n\n    handleChange = ({ target }) => {\n        const { name, value, checked, type } = target;\n        const newValue = type === \"checkbox\" ? checked : value;\n        this.setState({\n            [name]: newValue\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const {onSubmit} = this.props;\n        onSubmit({...this.state});\n        this.reset();\n    }\n\n    reset() {\n        this.setState({ search: \"\" })\n    }\n\n    render() {\n        const {search} = this.state;\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <input name=\"search\" value={search} onChange={this.handleChange} placeholder=\"Search post\" required />\n                <button type=\"submit\">Search</button>\n            </form>\n        )\n    }\n}\n\nexport default PostsSearchForm;","// extracted by mini-css-extract-plugin\nexport default {\"heading\":\"posts-search_heading__f1nWL\",\"list\":\"posts-search_list__xGgji\",\"item\":\"posts-search_item__15JJV\",\"itemTitle\":\"posts-search_itemTitle__tRVvp\",\"error\":\"posts-search_error__jnmRK\",\"detailsTitle\":\"posts-search_detailsTitle__1xd8J\",\"detailsContent\":\"posts-search_detailsContent__axegk\"};","import { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport PostList from \"../../shared/components/PostList/PostList\";\n\nimport PostsSearchForm from \"./PostsSearchForm/PostsSearchForm\";\n\nimport { searchPosts } from \"../../shared/api/posts\";\n\nimport styles from \"./posts-search.module.scss\";\n\nconst PostsSearch = ()=> {\n    const [items, setItems] = useState([]);\n    const [status, setStatus] = useState(\"idle\");\n    const [error, setError] = useState(null);\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get(\"search\");\n    const page = Number(searchParams.get(\"page\"));\n\n    useEffect(()=> {\n        const fetchPosts = async() => {\n            try {\n                setStatus(\"pending\");\n                const { data } = await searchPosts(search, page);\n                setItems(prevItems => [...prevItems, ...data]);\n                setStatus(\"success\");\n            }\n            catch ({ response }) {\n                const errorMessage = response.data.message || \"Cannot fetch posts\";\n                setError(errorMessage);\n                setStatus(\"error\");\n            }\n        }\n        \n        if(search) {\n            fetchPosts()\n        }\n    }, [search, page])\n\n    const updateSearch = ({ search }) => {\n        setSearchParams({\n            search,\n            page: 1,\n        })\n        setItems([]);\n    }\n\n    const loadMore = () => {\n        setSearchParams({\n            search,\n            page: page + 1,\n        })\n    };\n\n    return (\n        <>\n            <h2 className={styles.heading}>Posts</h2>\n            <PostsSearchForm onSubmit={updateSearch} />\n            {status === \"pending\" && <p>....Loading</p>}\n            {error && <p className={styles.error}>{error}</p>}\n            <PostList items={items} />\n            {status === \"success\" && !items.length && <p>Nothing found</p>}\n            {Boolean(items.length) && <button onClick={loadMore} type=\"button\">Load more</button>}\n        </>\n    )\n}\n\nexport default PostsSearch;\n","import PostsSearch from '../../modules/PostsSearch/PostsSearch';\n\n//import styles from \"./posts-page.module.scss\";\n\nconst PostsPage = () => {\n  return (\n    <div className=\"container\">\n      <h1 className=\"page-title\">Posts page</h1>\n      <PostsSearch />\n    </div>\n  );\n};\n\nexport default PostsPage;\n","import axios from \"axios\";\n\nconst postsInstance = axios.create({\n    baseURL: \"https://jsonplaceholder.typicode.com/posts\",\n})\n\nexport const getPosts = ()=> {\n    return postsInstance.get(\"/\")\n}\n\nexport const searchPosts = (q, _page = 1)=> {\n    return postsInstance.get(\"/\", {\n        params: {\n            q,\n            _page,\n            _limit: 4,\n        }\n    })\n}\n\nexport const getPostById = (id) => {\n    return postsInstance.get(`/${id}`);\n}\n\nexport const getPostComments = (id) => {\n    return postsInstance.get(`/${id}/comments`);\n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"post-list_list__Ic3M3\",\"item\":\"post-list_item__ECXwH\",\"itemTitle\":\"post-list_itemTitle__2wnZn\"};","import { Link, useLocation } from \"react-router-dom\";\n\nimport styles from \"./post-list.module.scss\";\n\nconst PostList = ({ items = [] }) => {\n    const location = useLocation();\n    \n    const elements = items.map(({ id, title, body }) => (\n        <li key={id} className={styles.item}>\n            <Link to={`/posts/${id}`} state={{from: location}} className={styles.itemTitle}>{title}</Link>\n            <p>{body}</p>\n        </li>\n    ))\n\n    return (\n        <ul className={styles.list}>\n            {elements}\n        </ul>\n    )\n}\n\nexport default PostList;"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","PostsSearchForm","state","search","handleChange","name","checked","newValue","type","setState","handleSubmit","e","preventDefault","onSubmit","props","reset","this","onChange","placeholder","required","Component","useState","items","setItems","status","setStatus","error","setError","useSearchParams","searchParams","setSearchParams","get","page","Number","useEffect","fetchPosts","searchPosts","data","prevItems","response","errorMessage","message","className","styles","PostList","Boolean","onClick","postsInstance","axios","baseURL","getPosts","q","_page","params","_limit","getPostById","id","getPostComments","location","useLocation","elements","map","title","body","to","from"],"sourceRoot":""}